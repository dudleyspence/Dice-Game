function setupValidate(){inputN=document.getElementById("NDice").value,/^[3-6]$/.test(inputN)?(nDice=inputN,console.log(nDice),diceChange(nDice),document.getElementById("setupForm").style.display="none",document.getElementById("scoreTable").style.display="block",document.getElementById("rollButton").style.display="block",document.getElementById("previousScores").style.display="block",document.getElementById("diceQuestion").innerHTML="How many dice would you like to play with?",document.getElementById("diceQuestion").style.color="black"):(document.getElementById("diceQuestion").innerHTML="Enter a number of dice between 3 and 6",document.getElementById("diceQuestion").style.color="white")}function diceChange(e){for(i=1;7>i;i++)document.getElementById("diceimg"+i).style.opacity=1;for(i=6;i>e;i--)document.getElementById("diceimg"+i).style.opacity=.5}function rollDice(){for(diceRolls=[],i=0;nDice>i;i++)diceRolls[i]=new Dice,console.log(nDice),console.log(diceRolls[i])}function displayDice(){for(rollDice(nDice),console.log(nDice),rolling_pic(),i=0;i<diceRolls.length;i++)diceValues[i]=diceRolls[i].diceNumber,document.getElementById("dice"+i).innerHTML="<img class='diceClass' src='game_files/"+diceValues[i]+"dice.jpeg' alt='images of random dice'/>";setTimeout(rolling_finish,1e3)}function orderDice(){diceValues.sort(function(e,n){return e-n}),console.log(diceValues)}function calcScore(){for(roundTotal=0,diceTotal=0,i=0;i<diceValues.length;i++)diceTotal+=diceValues[i];return roundTotal+=runCheck(diceTotal),roundTotal+=allDifferent(diceTotal),roundTotal+=allDuplicates(diceTotal),0==roundTotal&&(roundTotal+=mostlyDuplicates(diceTotal)),0==roundTotal?document.getElementById("header").innerHTML="No win this time!!":points.play(),document.getElementById("header").style.visibility="visible",roundTotal}function displayScores(){for(scoreTotal=0,orderDice(),roundTotal=calcScore(),scoreBoard.push(new Score(roundTotal)),document.getElementById("rPoints").innerHTML=roundTotal,document.getElementById("roundNo").innerHTML=scoreBoard.length,i=0;i<scoreBoard.length;i++)scoreTotal+=scoreBoard[i].scoreValue;for(roundID=1,i=scoreBoard.length-2;i>scoreBoard.length-7&&i>=0;i--)document.getElementById(roundID+"roundScore").innerHTML=scoreBoard[i].scoreValue,roundID+=1;for(i=1;scoreBoard.length-i>0&&6>i;i++)document.getElementById(i+"round").innerHTML=scoreBoard.length-i;document.getElementById("tPoints").innerHTML=scoreTotal,document.getElementById("diceTable").style.display="block",document.getElementById("continueButton").style.display="block",document.getElementById("exitButton").style.display="block"}function runCheck(e){for(runTally=0,i=0;i<diceValues.length;i++)diceValues[i]+1==diceValues[i+1]&&(runTally+=1);return console.log(runTally),runTally==diceValues.length-1?(document.getElementById("header").innerHTML="You got a straight!!",20+e):0}function allDuplicates(e){for(theSameCount=0,i=0;i<diceValues.length-1;i++)diceValues[i]==diceValues[i+1]&&(theSameCount+=1);return theSameCount==diceValues.length-1?(document.getElementById("header").innerHTML=diceValues.length+" of a kind!!",60+e):0}function mostlyDuplicates(e){for(theSameCount1=0,theSameCount2=0,i=1;i<diceValues.length-1;i++)diceValues[i]==diceValues[i+1]&&(theSameCount1+=1);for(i=0;i<diceValues.length-2;i++)diceValues[i]==diceValues[i+1]&&(theSameCount2+=1);return theSameCount1==diceValues.length-2||theSameCount2==diceValues.length-2?(document.getElementById("header").innerHTML=diceValues.length-1+" of a kind!!",40+e):0}function allDifferent(e){for(i=0;i<diceValues.length;i++)for(j=0;j<diceValues.length;j++)if(i!==j&&diceValues[i]===diceValues[j])return 0;return console.log("hello"),0==runCheck()?(document.getElementById("header").innerHTML="All different!!",e):0}function calcAverage(){for(scoreTotal=0,i=0;i<scoreBoard.length;i++)scoreTotal+=scoreBoard[i].scoreValue;return(scoreTotal/scoreBoard.length).toFixed(1)}function endGame(){for(scoreTotal=0,i=0;i<scoreBoard.length;i++)scoreTotal+=scoreBoard[i].scoreValue;for(i=1;6>i;i++)document.getElementById(i+"round").innerHTML="-";console.log("hello"),document.getElementById("header").innerHTML="    ",document.getElementById("previousScores").style.display="none",document.getElementById("scoreTable").style.display="none",document.getElementById("finalScoreTable").style.display="block",document.getElementById("finalAverage").innerHTML=calcAverage(),document.getElementById("finalRounds").innerHTML=scoreBoard.length,document.getElementById("finalScore").innerHTML=scoreTotal,document.getElementById("continueButton").style.display="none",document.getElementById("exitButton").style.display="none",document.getElementById("diceTable").style.display="none",document.getElementById("playAgain").style.display="block",0==scoreTotal?bad_game.play():good_game.play()}function continueGame(){document.getElementById("header").style.visibility="hidden",document.getElementById("continueButton").style.display="none",document.getElementById("exitButton").style.display="none",document.getElementById("rollButton").style.display="block"}function replay(){for(i=1;6>i;i++)document.getElementById(i+"roundScore").innerHTML="0";nDice=6,scoreBoard=[],diceRolls=[],diceValues=[],diceChange(nDice),document.getElementById("rPoints").innerHTML="0",document.getElementById("roundNo").innerHTML="0",document.getElementById("tPoints").innerHTML="0",document.getElementById("NDice").value="",document.getElementById("playAgain").style.display="none",document.getElementById("finalScoreTable").style.display="none",document.getElementById("setupForm").style.display="block",document.getElementById("dice0").innerHTML="",document.getElementById("dice1").innerHTML="",document.getElementById("dice2").innerHTML="",document.getElementById("dice3").innerHTML="",document.getElementById("dice4").innerHTML="",document.getElementById("dice5").innerHTML=""}function instructionsOpen(){document.getElementById("instructions").style.display="block",document.getElementById("instructionsOpen").style.display="none",document.getElementById("instructionsClose").style.display="block",document.getElementById("creditOpenButton").style.display="none",window.scrollTo(0,500)}function instructionsClose(){document.getElementById("instructions").style.display="none",document.getElementById("instructionsOpen").style.display="block",document.getElementById("instructionsClose").style.display="none",document.getElementById("creditOpenButton").style.display="block",window.scrollTo(0,0)}function creditOpen(){document.getElementById("creditContent").style.display="block",document.getElementById("instructionsOpen").style.display="none",document.getElementById("instructionsClose").style.display="none",document.getElementById("creditOpenButton").style.display="none",window.scrollTo(0,500)}function creditClose(){document.getElementById("creditContent").style.display="none",document.getElementById("instructionsOpen").style.display="block",document.getElementById("creditOpenButton").style.display="block",window.scrollTo(0,0)}function rolling_pic(){i=Math.floor(3*Math.random())+1,console.log(i),rollsound.src="game_files/"+i+"dicesound.mp3",rollsound.play(),document.getElementById("diceTable").style.display="none",document.getElementById("rolling_pic").style.display="block",document.getElementById("rollButton").style.display="none"}function rolling_finish(){document.getElementById("diceTable").style.display="block",document.getElementById("rolling_pic").style.display="none",console.log(diceValues),displayScores()}var nDice,scoreBoard=[],diceRolls=[],diceValues=[],rollsound=new Audio,good_game=new Audio;good_game.src="game_files/good_game_sound.mp3";var points=new Audio;points.src="game_files/points.mp3";var bad_game=new Audio;bad_game.src="game_files/bad_game_sound.mp3",document.getElementById("but1").addEventListener("click",setupValidate),document.getElementById("NDice").addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&document.getElementById("but1").click()}),Balance=function(e){return this.points=e,function(){rounds++}},Dice=function(){this.diceNumber=Math.floor(6*Math.random())+1},Score=function(e){this.scoreValue=e};